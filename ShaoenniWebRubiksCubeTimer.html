<!DOCTYPE html><html><head><style id="mceDefaultStyles" type="text/css">body {min-height: 150px}
.mce-content-body {-webkit-touch-callout: none}
</style><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="stylesheet" type="text/css" id="u0" href="https://zh-tw.rakko.tools/tools/129/lib/tinymce/skins/ui/oxide/content.min.css"><link rel="stylesheet" type="text/css" id="u1" href="https://zh-tw.rakko.tools/tools/129/lib/tinymce/skins/content/default/content.min.css"></head><body id="tinymce" class="mce-content-body " data-id="content" contenteditable="true" spellcheck="false"><p>&lt;!DOCTYPE html&gt;<br>&lt;html lang="zh-Hant"&gt;<br>&lt;head&gt;<br>&nbsp; &lt;meta charset="UTF-8" /&gt;<br>&nbsp; &lt;title&gt;魔術方塊計時器&lt;/title&gt;<br>&nbsp; &lt;style&gt;<br>&nbsp; &nbsp; body {<br>&nbsp; &nbsp; &nbsp; font-family: Arial, sans-serif;<br>&nbsp; &nbsp; &nbsp; text-align: center;<br>&nbsp; &nbsp; &nbsp; background-color: #202020;<br>&nbsp; &nbsp; &nbsp; color: #ffffff;<br>&nbsp; &nbsp; &nbsp; margin: 0;<br>&nbsp; &nbsp; &nbsp; height: 100vh;<br>&nbsp; &nbsp; &nbsp; display: flex;<br>&nbsp; &nbsp; &nbsp; flex-direction: column;<br>&nbsp; &nbsp; &nbsp; justify-content: flex-start;<br>&nbsp; &nbsp; &nbsp; user-select: none;<br>&nbsp; &nbsp; &nbsp; touch-action: manipulation;<br>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; #touch-zone { padding-top: 60px; }<br>&nbsp; &nbsp; #timer { font-size: 80px; margin-bottom: 20px; }<br>&nbsp; &nbsp; #status { font-size: 24px; color: #888; margin-bottom: 30px; }<br>&nbsp; &nbsp; #scramble { font-size: 24px; margin-top: 20px; }<br>&nbsp; &nbsp; #generate-btn {<br>&nbsp; &nbsp; &nbsp; margin-top: 15px;<br>&nbsp; &nbsp; &nbsp; font-size: 18px;<br>&nbsp; &nbsp; &nbsp; padding: 8px 16px;<br>&nbsp; &nbsp; &nbsp; background-color: #444;<br>&nbsp; &nbsp; &nbsp; color: #fff;<br>&nbsp; &nbsp; &nbsp; border: none;<br>&nbsp; &nbsp; &nbsp; border-radius: 5px;<br>&nbsp; &nbsp; &nbsp; cursor: pointer;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; #generate-btn:hover { background-color: #666; }<br>&nbsp; &nbsp; #net {<br>&nbsp; &nbsp; &nbsp; display: flex;<br>&nbsp; &nbsp; &nbsp; flex-direction: column;<br>&nbsp; &nbsp; &nbsp; align-items: center;<br>&nbsp; &nbsp; &nbsp; margin-top: 20px;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; .row { display: flex; }<br>&nbsp; &nbsp; .face {<br>&nbsp; &nbsp; &nbsp; display: grid;<br>&nbsp; &nbsp; &nbsp; grid-template-columns: repeat(3, 30px);<br>&nbsp; &nbsp; &nbsp; grid-template-rows: repeat(3, 30px);<br>&nbsp; &nbsp; &nbsp; gap: 1px;<br>&nbsp; &nbsp; &nbsp; margin: 2px;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; .face div {<br>&nbsp; &nbsp; &nbsp; width: 30px;<br>&nbsp; &nbsp; &nbsp; height: 30px;<br>&nbsp; &nbsp; &nbsp; background-color: #000;<br>&nbsp; &nbsp; }<br>&nbsp; &lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&nbsp; &lt;div id="touch-zone"&gt;<br>&nbsp; &nbsp; &lt;div id="timer"&gt;00:00.00&lt;/div&gt;<br>&nbsp; &nbsp; &lt;div id="status"&gt;按住空白鍵或上方螢幕準備&lt;/div&gt;<br>&nbsp; &lt;/div&gt;</p><p>&nbsp; &lt;div id="scramble"&gt;Scramble: &lt;/div&gt;<br>&nbsp; &lt;button id="generate-btn" onclick="generateScramble()"&gt;產生新打亂公式&lt;/button&gt;</p><p>&nbsp; &lt;div id="net"&gt;<br>&nbsp; &nbsp; &lt;div class="face" id="U"&gt;&lt;/div&gt;<br>&nbsp; &nbsp; &lt;div class="row"&gt;<br>&nbsp; &nbsp; &nbsp; &lt;div class="face" id="L"&gt;&lt;/div&gt;<br>&nbsp; &nbsp; &nbsp; &lt;div class="face" id="F"&gt;&lt;/div&gt;<br>&nbsp; &nbsp; &nbsp; &lt;div class="face" id="R"&gt;&lt;/div&gt;<br>&nbsp; &nbsp; &lt;/div&gt;<br>&nbsp; &nbsp; &lt;div class="face" id="D"&gt;&lt;/div&gt;<br>&nbsp; &nbsp; &lt;div class="face" id="B"&gt;&lt;/div&gt;<br>&nbsp; &lt;/div&gt;</p><p>&nbsp; &lt;script&gt;<br>&nbsp; &nbsp; let startTime = 0;<br>&nbsp; &nbsp; let timerInterval;<br>&nbsp; &nbsp; let isReady = false;<br>&nbsp; &nbsp; let isRunning = false;<br>&nbsp; &nbsp; let keyPressed = false;<br>&nbsp; &nbsp; let touchStarted = false;</p><p>&nbsp; &nbsp; const timerDisplay = document.getElementById("timer");<br>&nbsp; &nbsp; const statusDisplay = document.getElementById("status");<br>&nbsp; &nbsp; const touchZone = document.getElementById("touch-zone");</p><p>&nbsp; &nbsp; function pad(number, digits = 2) {<br>&nbsp; &nbsp; &nbsp; return number.toString().padStart(digits, '0');<br>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; function updateTimer() {<br>&nbsp; &nbsp; &nbsp; const now = Date.now();<br>&nbsp; &nbsp; &nbsp; const time = now - startTime;<br>&nbsp; &nbsp; &nbsp; const minutes = Math.floor(time / 60000);<br>&nbsp; &nbsp; &nbsp; const seconds = Math.floor((time % 60000) / 1000);<br>&nbsp; &nbsp; &nbsp; const hundredths = Math.floor((time % 1000) / 10);<br>&nbsp; &nbsp; &nbsp; timerDisplay.textContent = `${pad(minutes)}:${pad(seconds)}.${pad(hundredths)}`;<br>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; function startTimer() {<br>&nbsp; &nbsp; &nbsp; startTime = Date.now();<br>&nbsp; &nbsp; &nbsp; timerInterval = setInterval(updateTimer, 10);<br>&nbsp; &nbsp; &nbsp; isRunning = true;<br>&nbsp; &nbsp; &nbsp; statusDisplay.textContent = "計時中... 按空白鍵或螢幕停止";<br>&nbsp; &nbsp; &nbsp; navigator.vibrate?.(100);<br>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; function stopTimer() {<br>&nbsp; &nbsp; &nbsp; clearInterval(timerInterval);<br>&nbsp; &nbsp; &nbsp; updateTimer();<br>&nbsp; &nbsp; &nbsp; isRunning = false;<br>&nbsp; &nbsp; &nbsp; statusDisplay.textContent = "已停止，按住空白鍵或螢幕重新開始";<br>&nbsp; &nbsp; &nbsp; navigator.vibrate?.([80, 30, 80]);<br>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; document.addEventListener("keydown", (e) =&gt; {<br>&nbsp; &nbsp; &nbsp; if (e.code === "Space" &amp;&amp; !keyPressed) {<br>&nbsp; &nbsp; &nbsp; &nbsp; keyPressed = true;<br>&nbsp; &nbsp; &nbsp; &nbsp; if (!isRunning) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isReady = true;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; statusDisplay.textContent = "準備中... 放開空白鍵開始";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; navigator.vibrate?.(50);<br>&nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; stopTimer();<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; });</p><p>&nbsp; &nbsp; document.addEventListener("keyup", (e) =&gt; {<br>&nbsp; &nbsp; &nbsp; if (e.code === "Space") {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (isReady &amp;&amp; !isRunning) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isReady = false;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; startTimer();<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; keyPressed = false;<br>&nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; });</p><p>&nbsp; &nbsp; function handleTouchStart(e) {<br>&nbsp; &nbsp; &nbsp; e.preventDefault();<br>&nbsp; &nbsp; &nbsp; if (!touchStarted) {<br>&nbsp; &nbsp; &nbsp; &nbsp; touchStarted = true;<br>&nbsp; &nbsp; &nbsp; &nbsp; if (!isRunning) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isReady = true;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; statusDisplay.textContent = "準備中... 放開螢幕開始";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; navigator.vibrate?.(50);<br>&nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; stopTimer();<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; function handleTouchEnd(e) {<br>&nbsp; &nbsp; &nbsp; e.preventDefault();<br>&nbsp; &nbsp; &nbsp; if (isReady &amp;&amp; !isRunning) {<br>&nbsp; &nbsp; &nbsp; &nbsp; isReady = false;<br>&nbsp; &nbsp; &nbsp; &nbsp; startTimer();<br>&nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; touchStarted = false;<br>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; touchZone.addEventListener("touchstart", handleTouchStart);<br>&nbsp; &nbsp; touchZone.addEventListener("touchend", handleTouchEnd);</p><p>&nbsp; &nbsp; // 魔術方塊部分<br>&nbsp; &nbsp; let cube = {};<br>&nbsp; &nbsp; const colors = {<br>&nbsp; &nbsp; &nbsp; U: '#ffff00', D: '#ffffff', F: '#00ff00', B: '#0000ff',<br>&nbsp; &nbsp; &nbsp; L: '#ff0000', R: '#ff8000'<br>&nbsp; &nbsp; };</p><p>&nbsp; &nbsp; const rotateMap = {<br>&nbsp; &nbsp; &nbsp; U: [['B', 0,1,2], ['R',0,1,2], ['F',0,1,2], ['L',0,1,2]],<br>&nbsp; &nbsp; &nbsp; D: [['F',6,7,8], ['R',6,7,8], ['B',6,7,8], ['L',6,7,8]],<br>&nbsp; &nbsp; &nbsp; F: [['U',6,7,8], ['R',0,3,6], ['D',2,1,0], ['L',8,5,2]],<br>&nbsp; &nbsp; &nbsp; B: [['U',2,1,0], ['L',0,3,6], ['D',6,7,8], ['R',8,5,2]],<br>&nbsp; &nbsp; &nbsp; L: [['U',0,3,6], ['F',0,3,6], ['D',0,3,6], ['B',8,5,2]],<br>&nbsp; &nbsp; &nbsp; R: [['U',8,5,2], ['B',0,3,6], ['D',8,5,2], ['F',8,5,2]],<br>&nbsp; &nbsp; };</p><p>&nbsp; &nbsp; function initCube() {<br>&nbsp; &nbsp; &nbsp; ['U','D','F','B','L','R'].forEach(f =&gt; cube[f] = Array(9).fill(f));<br>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; function drawCube() {<br>&nbsp; &nbsp; &nbsp; Object.keys(cube).forEach(face =&gt; {<br>&nbsp; &nbsp; &nbsp; &nbsp; const faceDiv = document.getElementById(face);<br>&nbsp; &nbsp; &nbsp; &nbsp; faceDiv.innerHTML = '';</p><p>&nbsp; &nbsp; &nbsp; &nbsp; // 對 B 面做 180 度旋轉（上下+左右顛倒）<br>&nbsp; &nbsp; &nbsp; &nbsp; const stickers = face === 'B' ? cube[face].slice().reverse() : cube[face];</p><p>&nbsp; &nbsp; &nbsp; &nbsp; stickers.forEach(sticker =&gt; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const div = document.createElement('div');<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; div.style.backgroundColor = colors[sticker];<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; faceDiv.appendChild(div);<br>&nbsp; &nbsp; &nbsp; &nbsp; });<br>&nbsp; &nbsp; &nbsp; });<br>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; function rotateFace(face, times = 1) {<br>&nbsp; &nbsp; &nbsp; for (let t = 0; t &lt; times; t++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; const old = cube[face].slice();<br>&nbsp; &nbsp; &nbsp; &nbsp; const rotated = [6,3,0,7,4,1,8,5,2];<br>&nbsp; &nbsp; &nbsp; &nbsp; rotated.forEach((val, idx) =&gt; cube[face][idx] = old[val]);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; const map = rotateMap[face];<br>&nbsp; &nbsp; &nbsp; &nbsp; const temp = map[0].slice(1).map(i =&gt; cube[map[0][0]][i]);<br>&nbsp; &nbsp; &nbsp; &nbsp; for (let i = 0; i &lt; 3; i++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cube[map[0][0]][map[0][i+1]] = cube[map[3][0]][map[3][i+1]];<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cube[map[3][0]][map[3][i+1]] = cube[map[2][0]][map[2][i+1]];<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cube[map[2][0]][map[2][i+1]] = cube[map[1][0]][map[1][i+1]];<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cube[map[1][0]][map[1][i+1]] = temp[i];<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; function applyMove(m) {<br>&nbsp; &nbsp; &nbsp; const face = m[0];<br>&nbsp; &nbsp; &nbsp; const mod = m[1] || '';<br>&nbsp; &nbsp; &nbsp; const times = mod === '2' ? 2 : mod === "'" ? 3 : 1;<br>&nbsp; &nbsp; &nbsp; rotateFace(face, times);<br>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; function generateScramble() {<br>&nbsp; &nbsp; &nbsp; initCube();<br>&nbsp; &nbsp; &nbsp; const moves = ['R','L','U','D','F','B'];<br>&nbsp; &nbsp; &nbsp; const modifiers = ["", "'", "2"];<br>&nbsp; &nbsp; &nbsp; let scramble = [];<br>&nbsp; &nbsp; &nbsp; let last = '';</p><p>&nbsp; &nbsp; &nbsp; while (scramble.length &lt; 20) {<br>&nbsp; &nbsp; &nbsp; &nbsp; const move = moves[Math.floor(Math.random() * moves.length)];<br>&nbsp; &nbsp; &nbsp; &nbsp; if (move === last) continue;<br>&nbsp; &nbsp; &nbsp; &nbsp; last = move;<br>&nbsp; &nbsp; &nbsp; &nbsp; const mod = modifiers[Math.floor(Math.random() * modifiers.length)];<br>&nbsp; &nbsp; &nbsp; &nbsp; const fullMove = move + mod;<br>&nbsp; &nbsp; &nbsp; &nbsp; scramble.push(fullMove);<br>&nbsp; &nbsp; &nbsp; &nbsp; applyMove(fullMove);<br>&nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; &nbsp; document.getElementById('scramble').textContent = 'Scramble: ' + scramble.join(' ');<br>&nbsp; &nbsp; &nbsp; drawCube();<br>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; generateScramble();<br>&nbsp; &lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;</p></body></html>